# 키친포스
주문관리 시스템. 메뉴구성과 주문정보를 관리할 수 있는 시스템.

## 퀵 스타트

```sh
cd docker
docker compose -p kitchenpos up -d
```

## 요구 사항
### Overview (주요 도메인 정의)
  - 상품 : 식당에서 판매하는 요리 및 음료들을 의미한다. 상품이름과 가격정보로 나타낸다. (e.g. 후라이드치킨)
  - 메뉴 : 여러가지 상품들을 조합하여 손님에게 판매하는 구성품. (e.g. 반반치킨 - 후라이드반마리 상품 + 양념반마리 상품)
  - 메뉴그룹 : 카테고리 역할. 손님이 원하는 유형의 메뉴를 찾는데 도움을 준다. (e.g. 추천메뉴, 인기메뉴)
  - 주문테이블 : 식당안에 있는 테이블 정보를 나타낸다. (e.g. 1번테이블 - 5명 손님, 사용중, 주문 접수상태)
  - 주문 : 주문유형, 주문상태, 주문메뉴 정보등 주문과 관련된 정보를 나타낸다. 
    - e.g. 배달, 배달중, 반반치킨, "배송지~"
    - e.g. 식당, 접수완료, 반반치킨, 2번 테이블

### 상품
  - [ ] 상품은 상품ID(UUID), 상품이름, 가격정보를 관리한다.
    - [ ] 상품ID는 고유한 UUID를 생성해서 사용한다.
  - [ ] 상품을 등록할 수 있다.
    - [ ] 가격은 0원 이상으로 입력한다.
    - [ ] 상품이름은 공백/욕설을 제외한 최대 255자 이내로 입력한다.
  - [ ] 상품의 가격을 변경할 수 있다.
    - [ ] 변경하려는 가격은 0원 이상으로 입력한다.
  - [ ] 상품목록을 조회할 수 있다.

### 메뉴
  - [ ] 메뉴는 메뉴ID(UUID), 이름, 가격, 메뉴그룹, 노출/숨김여부, 메뉴구성상품목록 정보를 관리한다.
    - [ ] 메뉴ID는 고유한 UUID를 생성해서 사용한다.
    - [ ] 메뉴의 이름을 관리한다.
    - [ ] 메뉴의 가격정보를 관리한다.
    - [ ] 메뉴의 노출 / 숨김 여부를 관리한다.
    - [ ] 메뉴에 포함된 구성상품 목록을 관리한다.
  - [ ] 메뉴를 등록할 수 있다.
    - [ ] 메뉴를 등록할때 메뉴이름, 메뉴그룹ID, 가격, 구성상품정보를 필수로 입력해야한다.
      - [ ] 메뉴이름은 공백/욕설을 제외한 최대 255자 이내로 입력한다.
      - [ ] 가격은 0원 이상으로 입력한다.
      - [ ] 메뉴그룹 ID를 필수로 입력한다.
      - [ ] 메뉴구성상품은 최소 1개 이상 입력한다.
        - [ ] 메뉴구성상품은 상품ID와 수량정보를 필수로 입력해야한다.
        - [ ] 상품ID는 DB에 등록된 상품의 ID를 입력한다.
        - [ ] 수량은 0 이상 값을 입력한다.
        - [ ] 메뉴의 가격과 메뉴구성상품의 총 금액이 일치해야한다.
  - [ ] 메뉴 가격을 변경할 수 있다.
    - [ ] 변경하려는 가격은 0원 이상이어야 한다.
    - [ ] 계산한 메뉴구성상품들의 총 합 금액과 사용자가 입력한 금액(Price)가 일치해야한다.
  - [ ] 메뉴를 노출하거나 숨길 수 있다.
    - [ ] 계산한 메뉴구성상품들의 총 합 금액과 메뉴에 등록된 금액(price)가 같으면 노출처리한다.
    - [ ] 숨김처리는 등록된 메뉴인지 확인 후 숨김처리한다.
  - [ ] 메뉴 목록을 조회할 수 있다.

### 메뉴그룹
  - [ ] 여러개의 메뉴들을 하나의 메뉴그룹으로 관리할 수 있다. ( 메뉴그룹 : 메뉴 = 1 : N 관계 )
  - [ ] 메뉴 그룹을 등록할 수 있다.
    - [ ] 메뉴 그룹 ID는 고유한 UUID를 생성해서 사용한다.
    - [ ] 메뉴그룹명은 필수이며 최대 255자까지 입력할 수 있다.
  - [ ] 메뉴 그룹 목록을 조회할 수 있다.

### 주문테이블
  - [ ] 주문테이블 정보를 등록할 수 있다.
    - [ ] 테이블명은 null 또는 공백을 제외하고 최대 255자 이내로 입력한다.
    - [ ] ID는 고유한 UUID로 자동등록한다.
    - [ ] 사용인원 초기값은 0으로 자동 등록한다.
    - [ ] 사용중 여부는 false로 자동 등록한다.
  - [ ] 주문테이블을 사용중 상태로 변경할 수 있다.
    - [ ] 등록된 주문테이블 번호가 있어야 "사용중 여부" 상태를 변경할 수 있다.
    - [ ] 사용중 여부를 True로 변경한다.
  - [ ] 주문테이블을 미사용 상태로 변경할 수 있다.
    - [ ] 등록된 주문테이블 번호가 있어야 "사용중 여부" 상태를 변경할 수 있다.
    - [ ] 해당 테이블을 아직 사용중인 경우 (해당 테이블에 진행중인 주문이 있는 경우) 상태를 변경할 수 없다.
    - [ ] 사용중 여부를 False로 변경한다.
    - [ ] 사용인원을 0으로 변경한다.
  - [ ] 주문테이블 사용인원 정보를 변경할 수 있다.
    - [ ] 등록된 주문테이블 번호가 있어야 사용인원을 변경할 수 있다.
    - [ ] 변경하려는 사용인원은 0보다 같거나 커야한다.
    - [ ] 테이블이 미사용상태인 경우 사용인원을 변경할 수 없다.
  - [ ] 주문테이블목록을 조회할 수 있다.

### 주문
  - [ ] 주문을 생성할 수 있다.
    - [ ] 주문유형, 주문상품목록(메뉴ID, 가격, 수량) 정보를 필수로 입력한다.
    - [ ] 주문유형이 "배달(DELIVERY)"인 경우 배송지 주소를 필수로 입력한다.
    - [ ] 주문유형이 "식당에서(EAT_IN)"인 경우 주문테이블 번호를 필수로 입력한다. 
      - [ ] 주문테이블 번호는 등록된 테이블번호를 사용한다.
      - [ ] 주문테이블 상태가 "사용중(occupied)" 상태여야 한다.
    - [ ] 주문상품목록의 메뉴는 현재 공개된(displayed) 메뉴만 주문할 수 있다.
    - [ ] 주문상품목록에 입력된 메뉴 금액과 메뉴정보에 등록된 금액이 같은 경우에만 주문할 수 있다.
    - [ ] 주문유형이 "식당에서(EAT_IN)"가 아닌경우 주문수량은 0보다 크거나 같아야한다.
    - [ ] 주문을 등록할때 주문상태는 "접수대기(WAITING)" 상태로 등록한다.
  - [ ] 주문을 접수할 수 있다.
    - [ ] 등록된 주문번호가 있어야 주문상태를 변경할 수 있다.
    - [ ] 주문 상태가 "접수대기(WAITING)"상태인 경우에만 접수가 가능하다.
    - [ ] 주문유형이 "배달(DELIVERY)"인 경우 배달요청을 한다.
      - [ ] 배달요청을 할때는 주문번호, 총 주문금액, 배달주소를 입력한다.
    - [ ] 주문상태를 "접수(ACCEPTED)" 상태로 변경한다.
  - [ ] 주문을 서빙할 수 있다.
    - [ ] 등록된 주문번호가 있어야 주문상태를 변경할 수 있다.
    - [ ] 주문상태가 "접수(ACCEPTED)" 상태인 경우에만 "서빙완료(SERVED)" 상태로 변경할 수 있다.
  - [ ] 주문 배달을 시작할 수 있다.
    - [ ] 등록된 주문번호가 있어야 주문상태를 변경할 수 있다.
    - [ ] 주문유형이 "배달(DELIVERY)"인 경우에만 주문배달 상태로 변경할 수 있다.
    - [ ] 주문상태가 "서빙완료(SERVED)"인 경우에만 "배달 진행중(DELIVERING)"상태로 변경할 수 있다.
  - [ ] 주문 배달을 완료할 수 있다.
    - [ ] 등록된 주문번호가 있어야 주문상태를 변경할 수 있다.
    - [ ] 주문상태가 "배달 진행중(DELIVERING)"인 경우에만 "배달완료(DELIVERED)"상태로 변경할 수 있다.
  - [ ] 주문을 완료할 수 있다.
    - [ ] 등록된 주문번호가 있어야 주문상태를 변경할 수 있다.
    - [ ] 주문유형이 "배달(DELIVERY)"인 경우 주문상태가 "배달완료(DELIVERED)"인 경우에만 "주문완료(COMPLETED)" 상태로 변경할 수 있다.
    - [ ] 주문유형이 "포장(TAKEOUT), 식당에서(EAT_IN)"인 경우 "서빙완료(SERVED)" 상태인 경우에만 "주문완료(COMPLETED)" 상태로 변경할 수 있다.
    - [ ] 주문상태를 "주문완료(COMPLETED)" 상태로 변경한다.
    - [ ] 주문유형이 "식당에서(EAT_IN)"인 경우 주문테이블을 정리한다.
      - [ ] 사용중 상태를 미사용 상태로 변경한다.
      - [ ] 착석인원을 0으로 변경한다.
  - [ ] 주문목록을 조회할 수 있다.

 # 용어 사전

| 한글명 | 영문명 | 설명 |
| --- | --- | --- |
|  |  |  |

## 모델링
