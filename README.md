# 키친포스

## 퀵 스타트

```sh
cd docker
docker compose -p kitchenpos up -d
```

## 요구 사항

- 메뉴
  - [ ]메뉴는 상품과 메뉴상품이 먼저 등록 되어 있어야 한다.
  - [ ]메뉴 가격 = 상품가격 * 메뉴그룹 갯수
  - [ ]메뉴는 종류를 가저야 한다. ( ex : 추천메뉴, 신메뉴 등등)
  - [ ]메뉴명은 비속어가 포함되어 있으면 안된다.
  - [ ]메뉴는 활성/비활성화 상태를 변경 할 수 있다.
  - [ ]상품 가격을 변경 할 수 있어야 한다.
  - [ ]메뉴상품과 메뉴는 동시에 등록 되어야 한다.
- 주문
  - [ ]주문 종류는 배달, 포장, 매장식사( DELIVERY, TAKEOUT, EAT_IN )가 있다.
  - [ ]메뉴에 등록된 것들만 주문 할 수 있다.
  - [ ]각 주문은 종류별로 상태를 관리한다.
    - DELIVERY : WAITING -> ACCEPTED -> SERVED -> DELIVERING -> DELIVERED -> COMPLETED
    - TAKEOUT  : WAITING -> ACCEPTED -> SERVED -> COMPLETED
    - EAT_IN   : WAITING -> ACCEPTED -> SERVED -> COMPLETED
      - [ ]배달(DELIVERY)는 수락 ( ACCEPTED ) 할때 배달을 요청한다.
      - [ ]매장식사(EAT_IN)은 완료 ( COMPLETED ) 할때, orderTable 의 손님수와, 자리를 비워준다.

## 상세 기능 정의

- 메뉴
    - [ ] 메뉴 그룹을 등록 한다.
        - 메뉴그룹 이름은 필수여야 한다.
    - [ ] 메뉴 그룹을 전체 조회 한다.
    - [ ] 메뉴를 등록한다.
        - 메뉴 가격 > 0 이어야 한다.
        - 메뉴그룹이 기 등록 되어 있어야 한다.
        - 메뉴 상품들은의 갯수 >= 1
        - 상품들은 기등록 되어 있어야 한다.
        - 메뉴상품의 숫자는 > 0
        - 상품 * 수량 = 메뉴 가격이 된다.
        - 상품 이름은 null 이면 안된다.
        - 상품 이름에 비속어가 포함되면 안된다.
            - purgomalumClient로 검증
        - 그룹을 같이 등록한다.
    - [ ] 메뉴 가격을 변경 한다.
        - 메뉴 가격 > 0 이어야 한다.
        - 상품 * 수량 = 메뉴 가격이어야 한다.
        - 가격을 수정한다.
    - [ ] 메뉴를 활성화 한다.
        - 기 등록 메뉴여야 한다.
        - 상품 * 수량 = 메뉴 가격이어야 한다.
        - 메뉴를 활성화 한다.
    - [ ] 메뉴를 비 활성화 한다.
        - 메뉴를 비활성화 한다.
    - [ ] 메뉴를 전체 조회 한다.
    - [ ] 상품을 등록 한다.
        - 상품 이름에 비속어가 포함되면 안된다.
            - purgomalumClient로 검증
        - 상품 가격 > 0 이어야 한다.
    - [ ] 상품 가격을 변경 한다.
        - 상품 가격 > 0 이어야 한다.
        - 기등록 상품이어야 한다.
        - 상품 * 수량 = 메뉴 가격이어야 한다.
    - [ ] 상품을 전체 조회 한다.
- 주문
    - [ ] 주문을 생성 한다.
        - 주문 종류는 필수 값이다.
        - 주문 항목들(OrderLine)은 > 0 이어야 한다.
        - 기 등록된 메뉴여야 한다.
        - OrderLine
            - EAT_IN 이 아닌경우네 수량은 > 0 이어야 한다.
            - 기 등록된 메뉴여야 한다.
            - 메뉴가 활성화 되어 있어야 한다.
            - 메뉴가격 = 주문항목의 가격 이어야 한다.
        - 주문 종류가 배달인 경우 배달주소는 필수여야 한다.
        - 주문 종류가 EAT_IN인 경우
            - table 번호는 필수여야 한다.
            - table 은 비어 있어야 한다.
    - [ ] 주문을 수락 한다.
        - 주문이 등록 되어 있어야 한다.
        - 주문 상태가 WAITING 이어야 한다.
        - 주문종류가 배달 인경우
            - 배달을 요청한다.
    - [ ] 주문이 나왔다.(SERVE)
        - 주문이 등록 되어 있어야
        - 주문상태가 수락(ACCEPTED) 여야 한다.
    - [ ] 배송을 시작 한다.
        - 주문이 등록 되어 있어야
        - 주문상태가 (SERVED)여야 한다.
    - [ ] 배송이 완료 됐다.
        - 주문이 등록 되어 있어야 한다.
        - 주문상태가 배달시작(DELIVERING) 이어야 한다.
    - [ ] 주문이 종결 되었다.
        - 주문이 등록 되어 있어야 한다.
        - 주문구분 = 배달 인경우 이전 상태는 DELIVERED 여야 한다.
        - 주문구분 IN (TAKEOUT, EAT_IT) 경우 이전 상태는 SERVED 여야 한다.
        - 주문구분 = EAT_IT 이고, 테이블을 사용중이면
            - 테이블의 손님 숫자를 0으로 바꾼다.
            - 테이블을 가능 상태로 변경한다.
    - [ ] 주문 전체를 조회 한다.
    - [ ] 매장 테이블을 만든다.
        - 손님 숫자 0, 테이블 상태를 비 점유로 만든다.
    - [ ] 매장 테이블에 손님이 앉는다.
        - 등록된 테이블이어야 한다.
        - 테이블 상태를 점유로 바꾼다.
    - [ ] 매장 테이블을 치운다.
        - 등록된 테이블이어야 한다.
        - 매장 테이블에서 주문이 COMPLETE가 되어 있어야 한다.
        - 손님숫자 0, 테이블 상태를 비 점유로 수정한다.
    - [ ] 손님 숫자를 변경한다.
        - 손님숫자 >=0 이어야 한다.
        - 등록된 테이블이어야 한다.
        - 점유 되어 있으면 안된다.
    - [ ] 매장 테이블을 전체 조회 한다.

## 용어 사전

| 한글명 | 영문명 | 설명 |
|-----|-----|----|
|     |     |    |

## 모델링

