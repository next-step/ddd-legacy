# 키친포스

## 퀵 스타트

```sh
cd docker
docker compose -p kitchenpos up -d
```

## 요구 사항

- 키친포스(POS)를 구현한다.
- 키친포스는 음식점 직원이 주문과 메뉴를 관리하는 시스템이다.
- 키친포스는 메뉴, 메뉴 그룹, 상품, 테이블, 주문으로 구성 된다.
- 메뉴 그룹과 메뉴 그리고 상품 관계는 다음과 같다.
____
- 식사 ==> 메뉴 그룹
    - 후라이드 ==> 메뉴
        - 후라이드 치킨 ==> 상품
        - 콜라 ==> 상품
    - 양념 ==> 메뉴
        - 양념 치킨 ==> 상품
        - 사이다 ==> 상품
____
- 키친포스는 다음 Use Case와 같이 주문 상태를 관리한다.
```uml
left to right direction

:관리자 : as Admin
:손님 : as Guest
(키친포스) as Pos

package 주문 {
    usecase "매장_내_식사_주문" as os1
    usecase "포장_주문" as os2
    usecase "배달_주문" as os3
}

package 매장_내_식사_주문 {
    usecase "대기중" as  es1
    usecase "조리완료" as es2
    usecase "서빙완료" as es3
    usecase "완료" as es4
}

package 포장_주문 {
    usecase "대기중" as ts1
    usecase "조리완료" as ts2
    usecase "서빙완료" as ts3
    usecase "완료" as ts4
}

package 배달_주문 {
    usecase "대기중" as ds1
    usecase "조리완료" as ds2
    usecase "배달중" as ds3
    usecase "배달완료" as ds4
    usecase "완료" as ds5
}
Guest --> Admin : 주문
Admin --> (Pos) : 주문 관리

Pos --> os1 : 매장내 식사
Pos --> os2 : 배달
Pos --> os3 : 포장

os1 --> (es1) : spte1. 주문생성
os1 --> (es2) : spte2. 조리완료
os1 --> (es3) : spte3. 서빙완료
os1 --> (es4) : spte4. 완료

os2 --> (ts1) : spte1. 주문생성
os2 --> (ts2) : spte2. 조리완료
os2 --> (ts3) : spte3. 서빙완료
os2 --> (ts4) : spte4. 완료

os3 --> (ds1) : spte1. 주문생성
os3 --> (ds2) : spte2. 조리완료
os3 --> (ds3) : spte3. 배달중
os3 --> (ds4) : spte4. 배달완료
os3 --> (ds5) : spte5. 완료
```


### 메뉴
- [ ] 메뉴를 등록할 수 있다.
  - [ ] 메뉴는 상품이 반드시 필요하다.
  - [ ] 메뉴에 상품이 비어 있을 수 없다.
  - [ ] 메뉴 이름이 반드시 필요하다.
    - [ ] 메뉴 이름에는 비속어가 포함될 수 없다.
  - [ ] 메뉴 가격이 반드시 필요하다.
  - [ ] 메뉴 노출 정보가 있다.
    - [ ] 노출 정보는 기본적으로 비공개 이다.
- [ ] 메뉴 가격은 상품의 총 합이다.
  - [ ] 메뉴 가격이 없거나, 0보다 작을 수 없다.
- [ ] 메뉴 가격을 변경할 수 있다.
  - [ ] 메뉴 가격이 없을 수 없다.
  - [ ] 메뉴 가격이 0보다 작을 수 없다.
  - [ ] 메뉴 가격은 (상품의 금액 * 수량)의 총합 보다 클 수 없다.
- [ ] 메뉴를 공개할 수 있다. 
- [ ] 메뉴를 비공개로 변경할 수 있다.
- [ ] 메뉴는 '메뉴 그룹'에 포함되어야 한다.
- [ ] 메뉴 전체를 조회할 수 있다.

### 메뉴 그룹
- [ ] 메뉴 그룹을 등록할 수 있다.
  - [ ] 메뉴 그룹 이름이 반드시 필요하다.
- [ ] 메뉴 그룹을 조회할 수 있다.

### 상품
- [ ] 상품을 등록할 수 있다.
  - [ ] 상품 이름이 반드시 필요하다.
    - [ ] 상품 이름은 빈 값일 수 없다.
    - [ ] 상품 이름에는 비속어가 포함될 수 없다.
  - [ ] 상품 가격이 반드시 필요하다.
    - [ ] 상품 가격은 빈 값일 수 없다.
    - [ ] 상품 가격은 0 보다 작을 수 없다.
- [ ] 상품 가격을 변경할 수 있다.
  - [ ] 상품 가격은 빈 값일 수 없다.
  - [ ] 상품 가격은 0 보다 작을 수 없다.
  - [ ] 메뉴 가격이 메뉴가 가지고 있는 **상품의 가격의 총 합보다 크다면 비공개로 설정** 한다.
- [ ] 상품 전체를 조회할 수 있다.

### 테이블
- [ ] 테이블은 매장 내 테이블을 의미한다.
- [ ] 테이블을 등록할 수 있다.
  - [ ] 테이블 이름이 반드시 필요하다.
  - [ ] 테이블 손님 수는 0이다.
  - [ ] 테이블 점유 정보는 미점유로 설정된다.
- [ ] 테이블에 손님이 앉으면, 점유 정보를 점유로 변경한다.
- [ ] 테이블에 손님이 떠나면, 점유 정보를 미점유로 변경한다.
    - [ ] 주문 상태가 완료가 아니면, 점유 상태를 미점유로 변경할 수 없다.
    - [ ] 테이블의 손님 수를 0으로 초기화한다.
- [ ] 테이블의 손님 수를 변경할 수 있다.
  - [ ] 테이블의 손님 수는 0보다 작을 수 없다.
  - [ ] 테이블의 상태가 점유가 아니면, 손님 수를 변경할 수 없다.
- [ ] 테이블 전체를 조회할 수 있다.

### 주문
- [ ] 주문은 '대기중', '조리완료', '서빙완료', '배달중', '배달완료', '완료' 상태를 갖는다.
- [ ] 주문은 '매장 내 식사', '테이크 아웃', '배달' 타입으로 구분 된다.
- [ ] 주문 타입에 따른 상태는 다음과 같다.

|   구분    | 첫번째 상태 | 두번째 상태 | 세번째 상태 | 네번째 상태 | 다섯번째 상태 |
|:-------:|:------:|:------:|:------:|:------:|:-------:|
| 매장 내 식사 |  대기중   |  조리완료  |  서빙완료  |   완료   |         |
| 테이크 아웃  |  대기중   |  조리완료  |  서빙완료  |   완료   |         |
|   배달    |  대기중   |  조리완료  |  배달중   |  배달완료  |   완료    |

- [ ] 대기중
    - [ ] 최초 주문을 등록하면 '대기중' 상태가 된다.
      - [ ] 주문은 메뉴가 반드시 필요하다.
      - [ ] 주문은 1개 이상의 메뉴로 구성된다.
    - [ ] 주문 타입이 반드시 필요하다.
    - [ ] 주문 시간이 반드시 필요하다.
    - [ ] 메뉴에 없는 상품을 주문할 수 없다.
    - [ ] 노출되지 않은 메뉴는 주문할 수 없다.
    - [ ] 메뉴 가격과 주문 상품의 가격은 같아야 한다.
    - [ ] 주문 타입이 배달 주문인 경우 주소가 반드시 필요하다.
    - [ ] 주문 타입이 매장 주문인 경우 테이블 정보가 반드시 필요하다.
- [ ] 조리완료
    - [ ] 조리가 완료되면 '조리완료' 상태로 변경한다.
    - [ ] 주문 상태가 '대기중'일 때만 '조리완료'로 변경할 수 있다.
    - [ ] 배달 주문은 '배달' 요청을 한다.
- [ ] 서빙완료
    - [ ] 서빙이 완료되면 '서빙완료' 상태로 변경한다.
- [ ] 배달중
    - [ ] 배달이 시작되면 '배달중' 상태로 변경한다.
    - [ ] 주문 타입이 배달 타입이 아니면 '배달중' 상태로 변경할 수 없다.
    - [ ] 주문 상태가 '조리완료'일 때만 '배달중'으로 변경할 수 있다.
- [ ] 배달완료
    - [ ] 배달이 완료되면 '배달완료' 상태로 변경한다.
    - [ ] 주문 상태가 '배달중'일 때만 '배달완료' 상태로 변경 가능하다.
- [ ] 완료
    - [ ] 배달 주문은 배달이 완료되면 '완료' 상태로 변경한다.
    - [ ] 매장 주문은 서빙이 완료되면 '완료' 상태로 변경한다.
    - [ ] 매장 내 주문인 경우 테이블을 비운다.

## 용어 사전

| 한글명 | 영문명 | 설명 |
|-----|-----|----|
|     |     |    |

## 모델링
