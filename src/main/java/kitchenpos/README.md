# 키친포스

## 요구사항 

### 메뉴 그룹(menu-groups) 관련 기능
- [ ] 메뉴 그룹은 이름 정보를 가진다.
  - [ ] 이름은 null을 허용하지 않는다.
  - [ ] 이름은 비속어를 포함할 수 없다.
- [ ] 메뉴 그룹을 신규 등록한다.
  - [ ] 메뉴 그룹 이름은 없거나 공백으로 등록할 수 없다.
- [ ] 모든 메뉴 그룹을 조회한다.

### 메뉴(menus) 관련 기능
- [ ] 메뉴는 이름, 가격, 메뉴 그룹 id, 노출여부, 메뉴 상품들 정보를 가진다. 
- [ ] 메뉴 정보를 신규 등록한다.
  - [ ] 이름이 중복될 수 있다.
  - [ ] 노출 여부는 입력하지 않으면 숨김처리된다.
  - [ ] '메뉴 상품들의 개별 가격 합 > 메뉴 가격' 조건을 만족해야한다.  
  - [ ] 메뉴 상품은 최소 1개이상 있어야 한다.  
- [ ] 특정 메뉴의 가격을 수정한다.
  - [ ] 존재하지 않는 메뉴 id의 가격은 수정할 수 없다.
  - [ ] 가격은 0 이상의 수만 입력할 수 있다.
  - [ ] 가격 정보가 없으면 안된다.
- [ ] 특정 메뉴를 노출한다.
- [ ] 특정 메뉴를 숨긴다.
- [ ] 모든 메뉴를 조회한다.

### 테이블 정보(order-tables) 관련 기능
- [ ] 테이블은 점유상태, 테이블이름(번호), 손님 수 정보를 가진다.
- [ ] 테이블을 신규 등록한다.
  - [ ] 테이블을 등록할 때는 이름 정보만 필요하다. 
  - [ ] 이름 외에는 default 값(점유상태: false, 손님 수: 0)으로 등록된다. 
- [ ] 테이블에 손님이 앉으면 테이블의 점유상태를 true로 변경한다.
- [ ] 테이블에서 손님이 떠나면 테이블을 초기화한다.
  - [ ] 점유상태와 손님 수를 default 값으로 변경한다.
  - [ ] 해당 테이블의 주문이 모두 완료된 상태가 아니라면 초기화할 수 없다.
- [ ] 테이블에 손님 수를 지정한다.
  - [ ] 손님 수는 0 이상의 수만 허용한다.
- [ ] 모든 테이블 정보를 조회한다.

### 주문(orders) 관련 기능
- [ ] 주문은 필수 정보와 옵션 정보로 나뉜다.
  - [ ] 필수 정보는 주문 타입, 주문 항목(OrderLineItem), 주문 날짜시간, 주문상태, 주문종류가 있다.
    - [ ] 주문 항목은 주문 항목 순서, 메뉴 정보, 메뉴의 상품 정보(수량 포함), 메뉴 수량 정보를 포함한다. 
  - [ ] 옵션 정보는 배송주소, 테이블 id가 있다.
- [ ] 주문을 신규 등록한다. (WAITING)
  - [ ] 매장식사는 테이블이 점유된 상태여야만 주문할 수 있다. 
  - [ ] 매장식사는 주문은 존재하는 테이블에서만 가능하다.
  - [ ] 배달 주문은 배달 장소를 입력해야만 주문할 수 있다. (배달 장소가 공백인 경우에도 동일)
  - [ ] 주문 항목(OrderLineItem)은 최소 한개이상이어야한다.
  - [ ] 메뉴의 가격 x 수량이 가격과 일치하지 않으면 주문할 수 없다. 
  - [ ] 숨겨진 메뉴는 주문할 수 없다.
- [ ] 주문을 수락한다. 
  - [ ] 주문 상태는 (ACCEPT)으로 변경한다.
  - [ ] 매장식사/배달 주문 모두 가능하다.
- [ ] 주문을 서빙한다.
  - [ ] 주문 상태는 (SERVED)으로 변경한다.
  - [ ] 매장식사/배달 주문 모두 가능하다.
- [ ] 주문을 '배송시작' 처리한다. 
  - [ ] 주문 상태는 (DELIVERING)으로 변경한다.
  - [ ] 배달 주문만 가능하다.
- [ ] 주문을 '배송완료' 처리한다.
  - [ ] 주문 상태는 (DELIVERED)으로 변경한다.
  - [ ] 배달 주문만 가능하다.
- [ ] 주문을 '완료'처리한다.
  - [ ] 주문 상태는 (COMPLETED)으로 변경한다.
  - [ ] 매장식사/배달 주문 모두 가능하다.
- [ ] 모든 주문을 조회한다.
  - [ ] 노출 / 숨김 메뉴를 모두 포함해서 조회한다.

#### [주문 주의사항]
> 주문의 타입은 크게 EAT_IN(매장 취식), DELIVERY(배달)로 나뉨
> 또한 주문 타입에 따라 주문의 상태 flow도 달라지는 것 같음.

### 상품(products) 관련 기능
- [ ] 상품은 이름과 가격 정보를 가진다.
- [ ] 상품을 신규 등록한다.
  - [ ] 이름은 공백을 허용한다. (변경해야할 듯)
  - [ ] 이름은 null을 허용하지 않는다.
  - [ ] 이름은 비속어를 포함할 수 없다.
  - [ ] 이름과 가격 정보를 포함해야한다.
  - [ ] 가격은 0이상의 숫자만 허용한다.
- [ ] 상품의 가격을 수정한다.
  - [ ] 존재하지 않는 상품 id로 가격을 수정할 수 없다. 
  - [ ] 가격 정보를 포함해야한다.
  - [ ] 가격 정보는 0이상의 숫자만 허용한다.
  - [ ] 상품이 포함된 모든 메뉴를 찾아 메뉴 내의 모든 상품 변경된 금액을 반영 총 금액의 합보다 메뉴 가격이 더 비싼 경우에는 메뉴를 숨김처리한다.
- [ ] 모든 상품을 조회한다.

